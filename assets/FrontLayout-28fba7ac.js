import{S as x,c as l}from"./cart-bff9d7a3.js";import{_ as w,R as k,a as C,m as R,b as u,r as _,o as r,c as d,d as t,e as o,w as n,f as h,g as T,v as S,t as p,F as v,h as V,i as L,j as i}from"./index-8d706873.js";const{VITE_URL:A,VITE_PATH:N}={VITE_URL:"https://vue3-course-api.hexschool.io/",VITE_PATH:"tomyalan978",BASE_URL:"/vite-deploy-sample13",MODE:"production",DEV:!1,PROD:!0,SSR:!1},j={data(){return{products:[],fullPage:!1,searchText:"",newArray:[],product_id:""}},components:{RouterView:k,RouterLink:C},computed:{...R(l,["carts","cartList","cartNum"])},methods:{...u(l,["getCart"]),...u(l,["deleteItem"]),...u(l,["adjustmentTicket"]),...u(l,["cartCount"]),getProducts(){this.$http(`${A}/v2/api/${N}/products/all`).then(s=>{this.products=s.data.products,this.newArray=this.products.map(a=>a.title)})},searchName(){let s=this.searchText,a=this.products.find(b=>b.title===s);console.log(this.product_id),a?(this.product_id=a.id,this.$router.push({path:`products/${this.product_id}`})):x.fire({position:"top-end",title:"找不到該產品",showConfirmButton:!1,timer:1500})}},mounted(){this.getProducts(),this.getCart()}},E={class:"navbar navbar-expand-lg navbar-light bg-primary"},P={class:"container"},$=t("a",{class:"navbar-brand",href:"#"},"Navbar",-1),I=t("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[t("span",{class:"navbar-toggler-icon"})],-1),B={class:"collapse navbar-collapse",id:"navbarSupportedContent"},D={class:"navbar-nav me-auto mb-2 mb-lg-0"},U={class:"nav-item"},Y={class:"nav-item"},F=t("button",{class:"btn btn-outline-success",type:"submit"},"Search",-1),M={class:"btn btn-primary border-none position-relative",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasRight","aria-controls":"offcanvasRight"},q=t("i",{class:"bi bi-bag"},null,-1),H={class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"},O={class:"offcanvas offcanvas-end overflow-auto vl-parent",tabindex:"-1",id:"offcanvasRight","aria-labelledby":"offcanvasRightLabel",ref:"formContainer"},z=t("div",{class:"offcanvas-header border-bottom bg-success text-white"},[t("h5",{id:"offcanvasRightLabel "}," 購物車 "),t("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1),G={key:0,class:"offcanvas-body bg-primary text-center"},J=t("h5",{class:"text-center"},"購物車沒有品項",-1),K={key:1,class:"offcanvas-body bg-primary"},Q={class:"list-unstyled"},W={class:"w-25"},X=["src"],Z={class:"w-75 ms-3"},tt={class:"h6 mb-1"},st=t("p",{class:"fw-bold text-dark"},null,-1),et={class:"d-flex justify-content-between align-items-end"},at={class:"fw-bold"},ot=["onClick"],nt=t("i",{class:"bi bi-dash fs-6"},null,-1),it=[nt],ct={class:"fs-6"},lt=["onClick"],rt=t("i",{class:"bi bi-plus fs-6"},null,-1),dt=[rt],ut=["onClick"],ht=t("i",{class:"bi bi-trash"},null,-1),pt=[ht],_t={class:"mt-auto overflow-auto"},bt={class:"offcavans-footer","data-bs-dismiss":"offcanvas","aria-label":"Close"},ft={class:"py-3"},vt=L('<footer class="py-5 text-light bg-primary"><ul class="list-unstyled d-flex justify-content-center"><li><a class="pe-3 link-warning" href="#"><i class="fab h5 fa-facebook"></i></a></li><li><a class="pe-3 link-warning" href="#"><i class="fab h5 fa-instagram"></i></a></li><li><a class="pe-3 link-warning" href="#"><i class="fab h5 fa-twitter-square"></i></a></li><li><a class="pe-3 link-warning" href="#"><i class="fas h5 fa-envelope"></i></a></li></ul><div class="text-center mt-4"><p class="small text-secondary m-0">@copyright 2099 YAYAYAYAYA</p></div></footer>',1),mt={class:"d-flex flex-column text-primary justify-content-center align-items-center p-2 bg-success"},gt=t("span",{class:"me-4"}," 僅個人作品使用，無任何商業用途 ",-1),yt={class:"d-flex"},xt=t("div",null,"Copyright © 2023 星杯冰淇淋|",-1);function wt(s,a,b,kt,f,m){const c=_("RouterLink"),g=_("RouterView"),y=_("Router-link");return r(),d(v,null,[t("nav",E,[t("div",P,[$,I,t("div",B,[t("ul",D,[t("li",U,[o(c,{class:"nav-link",to:"/"},{default:n(()=>[i("首頁")]),_:1})]),t("li",Y,[o(c,{class:"nav-link",to:"/products"},{default:n(()=>[i("產品")]),_:1})])]),t("form",{class:"d-flex me-3",onSubmit:a[1]||(a[1]=h(e=>m.searchName(),["prevent"]))},[T(t("input",{class:"form-control me-2",type:"search",placeholder:"Search","onUpdate:modelValue":a[0]||(a[0]=e=>f.searchText=e),"aria-label":"Search"},null,512),[[S,f.searchText,void 0,{trim:!0}]]),F],32),t("button",M,[q,t("span",H,p(s.cartNum),1)])])])]),t("div",O,[z,s.carts.length===0?(r(),d("div",G,[J,o(c,{class:"btn btn-to-shop btn-outline bg-success text-white px-7 mt-4",to:"/products"},{default:n(()=>[i("來去看看")]),_:1})])):(r(),d("div",K,[t("ul",Q,[(r(!0),d(v,null,V(s.carts,e=>(r(),d("li",{class:"d-flex align-items-center py-4 px-3 border-bottom",key:e.id},[t("div",W,[t("img",{src:e.product.imageUrl,style:{width:"72px",height:"72px","object-fit":"cover"}},null,8,X)]),t("div",Z,[t("h4",tt,p(e.product.title),1),st,t("div",et,[t("div",at,[t("a",{href:"#",class:"pe-2 text-success",type:"btn",onClick:h(()=>s.adjustmentTicket("-",e),["prevent"])},it,8,ot),t("span",ct,p(e.qty),1),t("a",{href:"#",class:"ps-2 text-success",type:"btn",onClick:h(()=>s.adjustmentTicket("+",e),["prevent"])},dt,8,lt)]),t("button",{type:"button",class:"btn btn-outline-success",onClick:h(()=>s.deleteItem(e),["prevent"])},pt,8,ut)])])]))),128))]),t("div",_t,[t("div",bt,[t("h4",ft," 總共: "+p(s.cartList.a),1),o(c,{class:"btn btn-outline-success btn-lg w-100 mb-3",to:"/cart"},{default:n(()=>[i("購物車")]),_:1}),o(c,{class:"btn btn-success btn-lg w-100 text-white",to:"/form"},{default:n(()=>[i(" 直接購買")]),_:1})])])]))],512),o(g),vt,t("div",mt,[gt,t("div",yt,[xt,o(y,{to:"/login"},{default:n(()=>[i("後台登入")]),_:1})])])],64)}const Tt=w(j,[["render",wt]]);export{Tt as default};
